<!-- sidebar.html -->
{% load i18n static admin_soft %}
{% load custom_filters %}

<!-- Inject the URL for AJAX into JavaScript -->
<script>
  const sidebarContextAjaxUrl = "{% url 'sidebar_context_ajax' %}";
</script>

<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3" id="sidenav-main" style="height: 100vh; overflow-y: auto;">
  <div class="sidenav-header">
    <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
    <a class="navbar-brand m-0 text-body dark-page-text" href="{% url 'index' %}">
      <img src="{% static 'img/logo-ct-dark.png' %}" class="navbar-brand-img h-100" alt="main_logo">
      <span class="ms-1 font-weight-bold">Python Aplikacije</span>
    </a>
  </div>

<!-- Radio buttons for toggling appType -->
{% if current_user.user_role != 'proizvodnja' %}
<div class="btn-group" role="group" aria-label="App Type Toggle">
    <!-- Režija Button -->
    <input type="radio" class="btn-check" name="appType" id="režijaRadio" value="režija" autocomplete="off" checked onchange="updateSidebar()">
    <label class="btn btn-outline-primary" for="režijaRadio">Režija</label>

    <!-- Proizvodnja Button -->
    <input type="radio" class="btn-check" name="appType" id="proizvodnjaRadio" value="proizvodnja" autocomplete="off" onchange="updateSidebar()">
    <label class="btn btn-outline-primary" for="proizvodnjaRadio">Proizvodnja</label>
</div>
{% endif %}

  <hr class="horizontal dark mt-0">
  <div class="collapse navbar-collapse w-auto" id="sidenav-collapse-main">
    <ul class="navbar-nav" id="sidebar-content">
      <!-- Sidebar content will be dynamically populated here -->
    </ul>
  </div>
  <hr>
</aside>
